| 项目   | 标题 |日期 |版本 |作者 |
| ----|:-------:| :----:|----|:---:|
| 内容   |购物车设计|2018-12-20|0.1 |杜向军|

主要介绍
===============
# 数据表
## 1. cart_item 购物车子表
|字段|字段名|类型（长度）|备注|
|:---:|:---:|:---:|:---:|
|id|主键|int|自增长|
|product_id|产品id|int|-|
|car_id|购物车id|int||
|product_type|产品类型|int|使用parm表中的字段|
|num|数量 |int||
|price|单价|decimal(13,8)||
|sum|总金额|decimal(15,8)||
|time|创建时间|datetime||
|remark|备注|varchar(100)||
|st|修改时间|datetime||

## 2. cart 购物车
|字段|字段名|类型（长度）|备注|
|:---:|:---:|:---:|:---:|
|id|主键|int|自增长|
|user_id|用户id|int||
|time|创建时间|datetime||
|status|状态|int|1.初始状态 2.提交  3.删除|
|st|修改时间|datetime||
|operator|操作人|int||

## 3. product_order 产品订单
|字段|字段名|类型（长度）|备注|
|:---:|:---:|:---:|:---:|
|id|主键|int|自增长|
|cart_id|购物车id|int||
|all_sum|订单金额|decimal(16,8)|
|status|订单状态|int|1.待付款  2.取消订单  3.完成订单  4.结束订单  （和parm结合）|
|operator|操作人|int||
|time|创建时间|datetime||
|st|修改时间|datetime||
# 一.主要是为了完成购物车功能,包括在 
## 1.页面中：
### 1.初始化购物车  
#### 触发环境：<br>
>> 1>如果用户操作购物车（添加商品，查看购物车），但是本地没有购物车。
#### 操作：<br>
>> 1>如果用户没有登陆，看线下是否有购物车，如果线下有购物车就直接获取线下购物车；如果线下没有购物车就创建一个购物车。
>> 2>如果用户登陆，查看线上是否有购物车:
>> a)如果线上有购物车，但是线下没有的话，就直接拿取线上的购物车作为线下购物车。
>> b)如果线上有购物车，线下也有购物车的话，如果线上购物车和线下一致就取消线上购物车，使用线下购物车。
>> c)如果线上没有购物车就线下也没有购物车就直接创建线下的购物车。
>> d)如果线上没有购物车线下有购物车就使用线下购物车。

### 2.操作购物车
### 3.清空购物  
### 4.提交购物车
## 2.后台执行：
### 1.返回购物车
### 2.验证操作
### 3.
